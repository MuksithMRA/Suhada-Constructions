<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Login - Suhada Constructions</title>
    <link rel="stylesheet" href="/app/assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&amp;display=swap">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <script type="module">
        import { StorageKeys } from '/app/assets/js/utils/storage_keys.js';
        localStorage.removeItem(StorageKeys.TOKEN);
        localStorage.removeItem(StorageKeys.USER_TYPE);
    </script>
</head>

<body class="d-xxl-flex justify-content-xxl-center align-items-xxl-center bg-gradient-primary"
    style="background: url(/app/assets/img/login-bg.jpg), var(--bs-blue);backdrop-filter: opacity(1) blur(3px);">
    <div class="container" style="width: 100%;height: 100%;">
        <div class="row justify-content-center" style="width: 100%;height: 100%;">
            <div class="col-md-9 col-lg-12 col-xl-10">
                <div class="card shadow-lg o-hidden border-0 my-5">
                    <div class="card-body p-0">
                        <div class="row">
                            <div class="col-lg-6 d-none d-lg-flex">
                                <div class="flex-grow-1 bg-login-image"
                                    style="background: url(/app/assets/img/undraw_under_construction_-46-pa.svg) center / cover no-repeat, var(--bs-white);">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="p-5">
                                    <div class="text-center"><i class="fas fa-building" style="font-size: 24px;"></i>
                                        <h4 class="text-dark mb-4" style="font-size: 18px;font-weight: bold;">Welcome to
                                            Suhada Constructions</h4>
                                    </div>
                                    <div class="show-alert"></div>
                                    <form class="user" id="login-form">
                                        <div class="mb-3"><input class="form-control form-control-user" type="email"
                                                id="exampleInputEmail" aria-describedby="emailHelp"
                                                placeholder="Enter Email Address..." name="email" required=""></div>
                                        <div class="mb-3"><input class="form-control form-control-user" type="password"
                                                id="exampleInputPassword" placeholder="Password" name="password"
                                                required=""></div>
                                        <div class="mb-3">
                                            <div class="custom-control custom-checkbox small"></div>
                                        </div><button class="btn btn-primary d-block btn-user w-100"
                                            type="submit">Login</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/app/assets/js/script.min.js" type="module"></script>
    <script type="module">

        import { Auth } from '/app/assets/js/services/auth.js';
        document.getElementById('login-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            let email = e.target["email"].value;
            let password = e.target["password"].value;
            let user = {
                email: email,
                password: password
            }
            await Auth.login(user, document.getElementsByClassName('show-alert')[0]);
        });

    </script>
</body>

</html>